function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(b,!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}//Name: Jake Greer
//Date: 6/24/17
//Project: Vanilla JS - MVC - Hangman Game 
/**
 * @class Model
 *
 * Manages the data of the application.
 */class Model{constructor(){this.state={lives:7,word:null,words:[{text:"rainbow",audio:"assets/music/rainbow (mp3cut.net).mp3"},{text:"television",audio:"assets/music/television (mp3cut.net).mp3"},{text:"interpol",audio:"assets/music/interpol (mp3cut.net).mp3"},{text:"the shins",audio:"assets/music/the-shins (mp3cut.net).mp3"},{text:"whitesnake",audio:"assets/music/whitesnake (mp3cut.net).mp3"},{text:"the killers",audio:"assets/music/the-killers (mp3cut.net).mp3"},{text:"scorpions",audio:"assets/music/scorpions (mp3cut.net).mp3"},{text:"misfits",audio:"assets/music/misfits (mp3cut.net).mp3"},{text:"kiss",audio:"assets/music/kiss (mp3cut.net).mp3"},{text:"lynyrd skynyrd",audio:"assets/music/lynyrd-skynyrd (mp3cut.net).mp3"},{text:"sex pistols",audio:"assets/music/sex-pistols (mp3cut.net).mp3"},{text:"the strokes",audio:"assets/music/the-strokes (mp3cut.net).mp3"},{text:"alice cooper",audio:"assets/music/alice-cooper (mp3cut.net).mp3"},{text:"prince",audio:"assets/music/prince (mp3cut.net).mp3"},{text:"pearl jam",audio:"assets/music/pearl-jam (mp3cut.net).mp3"},{text:"green day",audio:"assets/music/GreenDay_-_I_walk_alone_cut_(mp3.pm).mp3"},{text:"acdc",audio:"assets/music/ACDC_-_Back_In_Black-sample.ogg"},{text:"zz top",audio:"assets/music/zz-top (mp3cut.net).mp3"},{text:"foo fighters",audio:"assets/music/foo-fighters (mp3cut.net).mp3"},{text:"dead kennedys",audio:"assets/music/dead-kennedys (mp3cut.net).mp3"},{text:"arctic monkeys",audio:"assets/music/arctic-monkeys (mp3cut.net).mp3"},{text:"rolling stones",audio:"assets/music/rolling-stones (mp3cut.net).mp3"},{text:"nofx",audio:"assets/music/nofx (mp3cut.net).mp3"},{text:"joy division",audio:"assets/music/joy-division (mp3cut.net).mp3"},{text:"pixies",audio:"assets/music/pixies (mp3cut.net).mp3"},{text:"queen",audio:"assets/music/queen (mp3cut.net).mp3"},{text:"led zeppelin",audio:"assets/music/led-zeppelin (mp3cut.net).mp3"},{text:"the beatles",audio:"assets/music/pennylane (mp3cut.net).mp3"},{text:"pink floyd",audio:"assets/music/pink-floyd (mp3cut.net).mp3"},{text:"guns n roses",audio:"assets/music/guns-n-roses (mp3cut.net).mp3"},{text:"the grinns",audio:"assets/music/the-grinns (mp3cut.net).mp3"}],letters:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],guesses:[],lineArray:[],wordArray:[]},this._pullWord()}_pullWord(){this.state.word=this.state.words[Math.floor(Math.random()*this.state.words.length)],this._setArrays(this.state.word.text)}bindGameChanged(a){this.onGameChanged=a}_commit(a){this.onGameChanged(a)}guessLetter(a){var b=this;this.state.guesses.push(a);let c=!1,d=this.state.word.text;for(let b=0;b<d.length;b++)d.charAt(b)===a&&(this.state.lineArray[b]=a,c=!0);if(c||this.state.lives--,0===this.state.lives&&this._resetGame(),d===this.state.lineArray.join("")){let a=new Audio(this.state.word.audio);a.play(),setTimeout(function(){b._resetGame()},16000)}this._commit(this.state)}_setArrays(a){for(let b=0;b<a.length;b++)" "==a.charAt(b)?(this.state.lineArray.push(" "),this.state.wordArray.push(" ")):(this.state.lineArray.push("_"),this.state.wordArray.push(a.charAt(b)));return this.state.lineArray.join(" ")}_resetGame(){this.state=_objectSpread({},this.state,{lives:7,word:null,guesses:[],lineArray:[],wordArray:[]}),this._commit(this.state),this._pullWord()}}/**
 * @class View
 *
 * Visual representation of the model.
 */class View{constructor(){var a=this;//ROOT
//HEADER
//GAME
//SIDEBAR
//WRITE GAME
this.app=this.getElement("#root"),this.header=this.createElement("div","heading"),this.image=this.createElement("img","image-top"),this.image.src="assets/images/rockOn.jpg",this.title=this.createElement("h1","title"),this.title.textContent="Rock and Roll Hangman",this.author=this.createElement("h3","title"),this.author.textContent="By: Jake Greer",this.header.append(this.image,this.title,this.author),this.gameWrapper=this.createElement("div","container"),this.canvas=this.createElement("canvas","hangman-canvas"),this.canvas.height="400",this.canvas.width="400",this.ctx=this.canvas.getContext("2d"),this.ctx.strokeStyle="#ffffff",this.wordContainer=this.createElement("div","word-container"),this.livesWrapper=this.createElement("p"),this.livesCount=this.createElement("span","lives"),this.livesWrapper.textContent="Lives left: ",this.livesWrapper.append(this.livesCount),this.wordValue=this.createElement("h1","word"),this.wordContainer.append(this.livesWrapper,this.wordValue),this.buttonContainer=this.createElement("div","letters"),this.letters=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],this.buttons=this.letters.map(function(b){let c=a.createElement("button",b);return c.textContent=b,c}),this.buttons.map(function(b){return a.buttonContainer.append(b)}),this.gameWrapper.append(this.canvas,this.wordContainer,this.buttonContainer),this.sideBar=this.createElement("div","side-panel"),this.sideBarTitle=this.createElement("h1"),this.sideBarTitle.append("Hints:"),this.break=this.createElement("br"),this.sideBarTitle.append(this.break),this.sideBarTitle.append("_______"),this.hintWrapper=this.createElement("ul"),this.listItem=this.createElement("li"),this.hintWrapper.append(this.setListItem("All words are band names from the rock genre!"),this.setListItem("The keyboard can be used along with the buttons"),this.setListItem("Try using all your vowels first."),this.setListItem("If you win, a song from the band will play for 15 seconds before refreshing a new game")),this.sideBar.append(this.sideBarTitle,this.hintWrapper),this.app.append(this.header,this.gameWrapper,this.sideBar),this._drawBasePost()}setListItem(a){let b=this.listItem.cloneNode(!0);return b.textContent=a,b}createElement(a,b){const c=document.createElement(a);return b&&c.classList.add(b),c}getElement(a){const b=document.querySelector(a);return b}initListeners(a){this.buttons.forEach(function(b){b.addEventListener("click",a)})}updateGameView(a){this.wordValue.textContent=a.lineArray.join(" "),this.livesCount.textContent=a.lives;let b=a.guesses[a.guesses.length-1];if(this.letters.find(function(a){return a===b})){let c=this.buttons.find(function(a){return a.className===b});c.removeAttribute("onclick"),c.style.display="none",this._drawMan(a.lives)}}_drawBasePost(){var a=Math.PI;let b=this.ctx;//Main Post vertical bar 1
//Main Post vertical bar 2
//Main Post vertical bar 3
//Main Post vertical bar top
//Main Post horizontal bar 1
//Main Post horizontal bar 2
//Main Post horizontal bar 3
//Main Post horizontal bar side
//Main post support bar
//Main post support bar 2
//Rope-Hanging
//Rope-bar
//Rope-bar 2
//Rope-bar 3
//bolts 1
//bolts 2
//bolts 3
//bolts 4
//bolts 5
//bolts 6
//bolts 7
//bolts 8
//bolts 9
//bolts 10
b.lineWidth=3,b.moveTo(30,390),b.lineTo(123,390),b.stroke(),b.moveTo(30,400),b.lineTo(120,400),b.stroke(),b.moveTo(120,390),b.lineTo(120,400),b.stroke(),b.moveTo(30,60),b.lineTo(30,400),b.stroke(),b.moveTo(50,60),b.lineTo(50,100),b.stroke(),b.moveTo(50,120),b.lineTo(50,390),b.stroke(),b.moveTo(30,60),b.lineTo(50,60),b.stroke(),b.moveTo(50,60),b.lineTo(225,60),b.stroke(),b.moveTo(50,80),b.lineTo(70,80),b.stroke(),b.moveTo(90,80),b.lineTo(225,80),b.stroke(),b.moveTo(225,60),b.lineTo(225,80),b.stroke(),b.moveTo(30,120),b.lineTo(90,60),b.stroke(),b.moveTo(30,140),b.lineTo(110,60),b.stroke(),b.moveTo(225,80),b.lineTo(225,120),b.stroke(),b.moveTo(215,60),b.lineTo(215,80),b.stroke(),b.moveTo(220,60),b.lineTo(220,80),b.stroke(),b.moveTo(210,60),b.lineTo(210,80),b.stroke(),b.lineWidth=1,b.beginPath(),b.arc(35,64,2,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(45,64,2,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(91,64,2,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(100,64,2,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(35,119,2,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(35,129,2,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(35,75,2,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(45,75,2,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(36,395,2,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(46,395,2,0,2*a,!0),b.stroke()}_drawHead(){var a=Math.PI;let b=this.ctx;//outer circle
//eyes-right
//eyes-left
b.lineWidth=4,b.beginPath(),b.arc(225,145,25,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(233,141,4,0,2*a,!0),b.stroke(),b.beginPath(),b.arc(217,141,4,0,2*a,!0),b.stroke()}_drawMouth(){let a=this.ctx;a.beginPath(),a.arc(225,150,15,0,Math.PI,!1),a.stroke()}_drawTorso(){let a=this.ctx;a.lineWidth=4,a.beginPath(),a.moveTo(225,170),a.lineTo(225,250),a.stroke()}_drawLeftArm(){let a=this.ctx;//left arm
a.lineWidth=4,a.beginPath(),a.moveTo(225,170),a.lineTo(200,230),a.stroke()}_drawRightArm(){let a=this.ctx;//right arm
a.lineWidth=4,a.beginPath(),a.moveTo(225,170),a.lineTo(250,230),a.stroke()}_drawLeftLeg(){let a=this.ctx;//left leg
a.lineWidth=4,a.beginPath(),a.moveTo(225,250),a.lineTo(200,320),a.stroke()}_drawRightLeg(){let a=this.ctx;//right leg
a.lineWidth=4,a.beginPath(),a.moveTo(225,250),a.lineTo(250,320),a.stroke()}_drawMan(a){6==a&&(this._drawHead(),this._drawMouth()),5==a&&this._drawTorso(),4==a&&this._drawLeftArm(),3==a&&this._drawRightArm(),2==a&&this._drawLeftLeg(),1==a&&this._drawRightLeg()}}/**
 * @class Controller
 *
 * Links the user input and the view output.
 *
 * @param model
 * @param view
//  */class Controller{constructor(a,b){var c=this;_defineProperty(this,"onGameChanged",function(a){c.view.updateGameView(a)}),this.model=a,this.view=b,this.model.bindGameChanged(this.onGameChanged),this.view.initListeners(this.handleKeyPress.bind(this)),this.onGameChanged(this.model.state),document.onkeyup=this.handleKeyPress.bind(this)}handleKeyPress(a){var b=a.key||a.target.className;b=b.toLowerCase(),this.model.state.letters.find(function(a){return a===b})&&this.model.guessLetter(b)}}const app=new Controller(new Model(),new View());